<div>
  <section class="content-header">
    <div class="container-fluid">
      <div class="row">
        <div class="col-6">
          <h1 class="mainHeading">{{ "Categories" }}</h1>
        </div>
        <div class="col-6 text-right topButtons">
          <a href="javascript:;" class="btn exportListBtn">
            <i class="fa fa-light fa-download"></i>
            {{ "Export" }}
          </a>
          <a
            href="javascript:;"
            class="btn addProductBtn"
            (click)="createCategoryNavigation()"
          >
            <i class="fa fa-plus"></i>
            {{ "Add Category" }}
          </a>
        </div>
      </div>
      <div class="row filterSearchDateRow">
        <div class="col-md-6 filters"></div>
        <div class="col-md-6 searchSection">
          <div class="input-group searchBar">
            <i class="fas fa-search"></i>
            <input
              type="text"
              class="form-control searchInput"
              name="keyword"
              [placeholder]="'Search Category ...'"
            />
            <!-- <div class="input-group-prepend">
                    <button type="button" class="btn bg-blue">
                      
                    </button>
                  </div> -->
          </div>
          <div class="calendar">
            <p-calendar
              [iconDisplay]="'input'"
              [showIcon]="true"
              inputId="icondisplay"
              [numberOfMonths]="2"
              selectionMode="range"
              class="py-1 px-2"
              placeholder="Select Date..."
            ></p-calendar>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="content px-2">
    <div class="container-fluid">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-md-6">&emsp;</div>
            <div class="col-md-6"></div>
          </div>
        </div>
        <p-table
          [value]="allCategories"
          [tableStyle]="{ 'min-width': '60rem' }"
        >
          <ng-template pTemplate="caption"> </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="categoryName">
                Category Name
                <p-sortIcon field="categoryName" />
              </th>
              <th pSortableColumn="address">
                Sold
                <p-sortIcon field="address" />
              </th>

              <th pSortableColumn="state">
                Stock
                <p-sortIcon field="state" />
              </th>
              <th pSortableColumn="state">
                Added
                <p-sortIcon field="state" />
              </th>

              <!-- <th  pSortableColumn="email">Discount
                          <p-sortIcon field="email"/>
  
                        </th> -->
              <th>Actions</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-category>
            <tr>
              <td class="categoryData">
                <img
                  *ngIf="category.categoryThumbnail"
                  [src]="category.categoryThumbnail"
                  alt="Category Image"
                  style="
                    width: 50px;
                    height: 50px;
                    object-fit: cover;
                    border-radius: 4px;
                  "
                />
                <div style="display: flex; flex-direction: column">
                  <div style="color: #313131; font-size: 14px">
                    {{ category.categoryName }}
                  </div>
                  <div style="color: #9b9b9b; font-size: 12px">
                    {{ category.description }}
                  </div>
                </div>
              </td>
              <td>{{ "121" }}</td>
              <td>{{ "590" }}</td>
              <td>{{ formatCreationTime(category.creationTime._d) }}</td>

              <td>
                <button
                  type="button"
                  class="btn btn-sm"
                  (click)="editCategoryNavigate(category.id)"
                >
                  <i class="fa fa-solid fa-pen"></i>
                </button>
                <div
                  class="btn btn-sm"
                  tooltipPosition="top"
                  [pTooltip]="tooltipContent"
                  (click)="showCategoryDetailPage(category.id)"
                >
                  <ng-template #tooltipContent>
                    <div class="flex align-items-center">
                      <span style="font-size: 12px">Category details</span>
                    </div>
                  </ng-template>

                  <i class="fas fa-eye"></i>
                </div>
                <button
                  type="button"
                  class="btn btn-sm mx-2"
                  (click)="deleteCategory(category)"
                >
                  <i class="fas fa-trash"></i>
                </button>
              </td>
            </tr>
          </ng-template>

          <ng-template pTemplate="summary">
            <div class="flex align-items-center justify-content-between">
              <!-- <p-paginator
                [first]="first"
                [rows]="rows"
                [totalRecords]="totalRecords"
                [rowsPerPageOptions]="[5, 10, 20, 30]"
                [showCurrentPageReport]="true"
                currentPageReportTemplate="Showing {first} to {last} of {totalRecords}"
                (onPageChange)="onPageChange($event)"
              /> -->
            </div>
          </ng-template>
        </p-table>
      </div>
    </div>
  </section>
</div>
