<form
  class="form-horizontal"
  autocomplete="off"
  #createProductForm="ngForm"
  (ngSubmit)="save()"
>
  <div class="parentDiv">
    <div class="create-product">
      <div class="header">
        <div class="topHeading">Edit Category</div>
        <div class="topBtn">
          <div class="cancelBtn" (click)="goBack()">
            <i class="fa fa-thin fa-xmark"></i>
            Cancel
          </div>
          <button
            class="addBtn"
            type="submit"
            [disabled]="!createProductForm.form.valid || saving"
          >
            <i class="fa fa-thin fa-plus"></i>
            Edit Category
          </button>
        </div>
      </div>
      <div *ngIf="category">
        <div class="body row">
          <div class="rightPart col-md-3">
            <p-card>
              <div class="thumbnailHeading">Thumbnail</div>

              <label class="col-form-label" for="productImage">
                {{ "Photo" }}
              </label>
              <div style="display: flex; flex-direction: column; gap: 15px">
                <!-- Display the uploaded thumbnail if it exists -->
                <div
                  *ngIf="category.categoryThumbnail"
                  class="thumbnail-preview"
                >
                  <img
                    [src]="category.categoryThumbnail"
                    class="img-preview"
                    alt="Uploaded Thumbnail"
                  />
                  <!-- <div class="imageDetails">
                    <span>{{ category.categoryThumbnail.name }}</span>
                    <span>{{ category.categoryThumbnail.size }} KB</span>
                  </div> -->
                  <button
                    class="removeImageBtn"
                    (click)="removeThumbnail()"
                    *ngIf="uploadedThumbnail"
                  >
                    <i class="fa fa-times" style="font-size: 10px"></i>
                  </button>
                </div>

                <!-- Thumbnail upload section -->
                <div
                  *ngIf="!uploadedThumbnail"
                  class="uploadImgSection"
                  (dragover)="onDragOver($event)"
                  (dragleave)="onDragLeave($event)"
                  (drop)="onDrop($event)"
                >
                  <div class="imgIcon">
                    <i class="fa fa-thin fa-image upload-icon imgIcon"></i>
                  </div>
                  <div class="uploadImgText">
                    Drag and drop image here, or click add image
                  </div>
                  <div class="addImgBtn" (click)="triggerFileInput()">
                    Update Image
                  </div>
                </div>

                <input
                  type="file"
                  class="form-control d-none"
                  name="productImage"
                  id="categoryImage"
                  accept="image/*"
                  (change)="onFileChange($event)"
                />
              </div>
            </p-card>
          </div>
          <div class="leftPart col-md-8">
            <div class="generalInformation">
              <p-card>
                <div class="heading">General Information</div>
                <div class="categoryName">
                  <label for="categoryName">Category Name</label>
                  <input
                    type="text"
                    class="form-control"
                    name="categoryName"
                    id="categoryName"
                    required
                    minlength="1"
                    maxlength="32"
                    #SkuEl
                    placeholder="Type Category name here ..."
                    [(ngModel)]="category.categoryName"
                  />
                </div>

                <div class="form-group row inputWithLabel">
                  <label class="col-form-label" for="description">
                    {{ " Description" }}
                  </label>
                  <textarea
                    type="text"
                    class="form-control"
                    name="description"
                    id="description"
                    rows="7"
                    placeholder="Type product description here. . ."
                    [(ngModel)]="category.description"
                  >
                  </textarea>
                </div>
              </p-card>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
